{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | admin{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/main_admin.css') }}">
    {% if admin_id is defined and admin_id > 0 %} {# Better remodal CSS #}
        <link rel="stylesheet" type="text/css" href="{{ asset('css/remodal_default_user.css') }}">
        <link rel="stylesheet" type="text/css" href="{{ asset('css/remodal_user.css') }}">
    {% else %} {# Remodal CSS only for login form (to admin section) #}
        <link rel="stylesheet" type="text/css" href="{{ asset('css/remodal_default_admin.css') }}">
        <link rel="stylesheet" type="text/css" href="{{ asset('css/remodal_admin.css') }}">
    {% endif %}
{% endblock %}

{% block navbar %}
    <div id="navbar">
        <ul>
            {% if admin_id is defined and admin_id > 0 %} {# Admin is logged in #}
                {# Create article #}
                <li>
                    <a href="{{ path('article_create') }}" title="Vytvořit článek">
                        <img src="{{ asset('svg/pencil.svg') }}" style="padding-bottom: 5px;padding-top: 3px;width: 95%; height: 78px" class="zoom-in" alt="Menu-icon-pencil">
                    </a>
                </li>
                {# Manage user accounts #}
                <li>
                    <a href="{# TODO #}" title="Spravovat uživatelské účty">
                        <img src="{{ asset('svg/users.svg') }}" class="zoom-in" alt="Menu-icon-users">
                    </a>
                </li>
            {% else %} {# Admin is NOT logged #}
                {# Create article #}
                <li>
                    <a href="#" title="Vytvořit článek">
                        <img src="{{ asset('svg/pencil.svg') }}" style="padding-bottom: 5px;padding-top: 3px;width: 95%; height: 78px" class="zoom-in" alt="Menu-icon-pencil">
                    </a>
                </li>
                {# Manage user accounts #}
                <li>
                    <a href="#" title="Spravovat uživatelské účty">
                        <img src="{{ asset('svg/users.svg') }}" class="zoom-in" alt="Menu-icon-users">
                    </a>
                </li>
            {% endif %}
            {# Logout #}
            <li>
                <a href="{{ path('admin_logout') }}" title="Odhlásit se">
                    <img src="{{ asset('svg/logout_admin.svg') }}" class="zoom-in" style="height: 78.5px" alt="Menu-icon-logout">
                </a>
            </li>
        </ul>
    </div>
{% endblock %}

{% block body %}
    {#{parent()}#}
    {# todo: clanky + edit + delete + pridavani komentaru #}
{% endblock %}

{% block javascripts %}
    {% if admin_id is defined and admin_id > 0 %} {# Remodal can be closed by clicking somewhere on the page #}
        <script src="{{ asset('js/remodal_user.js') }}"></script>
    {% else %} {# Remodal cannot be closed - only for login form (to admin section) #}
        <script src="{{ asset('js/remodal_admin.js') }}"></script>
    {% endif %}
    <script>
        {% if app.request.query.get('scrollto') is defined and app.request.query.get('scrollto') is not empty %}
            var scroll = '{{ app.request.query.get('scrollto') }}';
            $(document).ready(function(){
                $('html, body').animate({
                    scrollTop: $(scroll).offset().top
                }, 900);
            });
        {% endif %}
    </script>
{% endblock %}